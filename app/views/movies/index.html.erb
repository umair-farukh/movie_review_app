<h1>All Movies</h1>

<%= form_tag movies_path, method: :get, id: 'movies_search_form' do %>
    <%= label_tag :actor, 'Search by Actor:' %>
    <%= text_field_tag :actor, @actor %>
    <%= submit_tag 'Search' %>
    <%= reset_button %>
<% end %>
</br>
<table class="movies-table">
  <thead>
    <tr>
      <th>ID</th>  
      <th>Title</th>
      <th>Description</th>
      <th>Year</th>
      <th>Director</th>
      <th>Actor</th>
      <th>Country</th>
      <th>Stars</th>
    </tr>
  </thead>
  <tbody>
    <% @movies.each do |movie| %>
      <tr>
        <td><%= movie.id %></td>
        <td><%= movie.title %></td>
        <td><%= truncate(movie.description, length: 100) %></td>
        <td><%= movie.year %></td>
        <td><%= movie.director.name %></td>
        <td><%= movie.actor.name %></td>
        <td><%= movie.country %></td>
        <td>
            <%= movie.average_rating %>
            <span class="rating-out-of-5">/ 5</span>
        </td>
      </tr>
    <% end %>
  </tbody>
</table>